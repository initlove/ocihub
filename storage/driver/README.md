TODO:
docker/distribution has much stronger storage implementation.
Let's see if we can reuse that.

Now it is just a simple version.
